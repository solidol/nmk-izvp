[Перелік усіх робіт](README.md)
Інструментальні засоби візуального програмування. Лабораторна робота № 7

# Лабораторна робота № 7

## Робота з файлами та збереження структурованих даних

## Мета роботи

Ознайомитися з методами читання та запису даних у файл

## Обладнання

Персональний комп'ютер. Пакет програм XAMPP. Текстовий редактор Sublime Text 3 або IDE NetBeans. Web-браузер Chrome, Firefox, Opera

## Хід роботи
1. Впевнитись, що пакет XAMPP встановлено та web-сервер Apache запущений
2. Перейти до каталогу `C:\xampp\htdocs\` та очистити його
3. Створити текстовий файл file.txt і записати до нього довільний текст у 4 рядка
4. Створити файл files.php та записати у нього наступний код:
```php
<?php
$file = fopen(__DIR__ . '/file.txt', 'r');
for ($i = 0; $i < 4; $i++) {
    echo fgets($file);
    echo '<br>';
}
fclose($file);	
```
5. Зберегти файл та переконатися, що на екрані з'явився ваш текст
6. Для читання не дуже зручно використовувати цикл for із зазначенням конкретного числа рядків, які необхідно зчитати. Для цього можна використовувати функцію feof() - вона повертає true, якщо досягнуто кінець файлу. Програма, переписана з використанням функції feof() буде виглядати наступним чином:
```php
<?php
$file = fopen(__DIR__ . '/file.txt', 'r');
while (!feof($file)) {
    echo fgets($file);
    echo '<br>';
}
fclose($file);
```
7. Тепер запишемо дані в файл. Для того щоб відкрити файл для запису використовується та ж функція fopen, тільки в якості режиму роботи вказується 'w' (від write). А для запису даних в файл в рядок використовується функція fputs(). Напишемо програму, яка запише в файл file2.txt числа від 1 до 100. 
```php

<?php
$file = fopen(__DIR__ . '/file2.txt', 'w');
for ($i = 1; $i < 101; $i++) {
    fputs($file, $i . PHP_EOL);
}
fclose($file);
```
**Примітка**. Константа PHP_EOL містить в собі символ розриву рядків. При цьому для різних операційних систем (Windows або Unix-подібних) ці символи будуть різними.

8. Для перевірки існування файлу використовується функція `file_exists()`

```php

<?php
myfile("counter.txt"); // Використовуєм функцію myfile, передаючи у якості аргументу ім'я файлу

function myfile($name) //Створюємо функцію для перевірки інування файлу
{
if (file_exists($name)) echo 'Файл існує';
else echo "Файл не існує";
}
?>
```
9. Для визначення розміру файлу потрібно скористатися функцією `filesize()`: 
```php
<?php
myfile("counter.txt");

function myfile($name)
{
if (file_exists($name)) echo "Розмір файлу: ".filesize($name).' байт';
else echo "Файл не існує";
}
?>
```
10. Видалити певний рядок з файлу можна за допомогою такого коду: 
```php

<?php
$num_stroka = 5; //Видалимо 5 рядок з файлу
$file = file("counter.txt"); // Зчитуємо весь файл в масив

for($i = 0; $i < sizeof($file); $i++)
if($i == $num_stroka) unset($file[$i]);

$fp = fopen("counter.txt", "w");
fputs($fp, implode("", $file));
fclose($fp);
?>
```
11. Виконати індивідуальне завдання:
    + Створіть текстовий файл та скрипт, який дозапише дані в кінець. Оберіть потрібний режим роботи з файлом
    + Використовуючи функцію `file_get_contents()` прочитайте весь створений файл за раз
12. Впевнитись, що всі вихідні HTML-сторінки є валідними, використавши валідатор HTML-коду [validator.w3.org](https://validator.w3.org/). За необхідності, виправити помилки та зауваження
13. Для кожного етапу роботи зробити знімки екрану та додати їх у звіт з описом кожного скіншота
14. Додати програмний код завдання для самомтійного виконання
15. Дати відповіді на контрольні запитання
16. Зберегти звіт у форматі PDF

## Контрольні питання
1. На які етапи поділяється робота з файлами?
2. Які існують режими відкриття файлу?
3. Для чого використовується функція `fgets()`?
4. Якою функцією можна видалити рядки з файлу?
